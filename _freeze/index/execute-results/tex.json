{
  "hash": "e797e8e46f50c3fa94bf8ac32d6b5e78",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Development and Validation of a Risk Prediction Model of linezolid-induced thrombocytopenia in Vietnamese patients\n\n# authors:\n#   - name: Norah Jones\n#     affiliation: The University\n#     roles: writing\n#     corresponding: true\n# bibliography: references.bib\n\ncss: styles.css\n---\n\n\n\n\n\n## Objectives\n1. Investigating risk factors of linezolid-induced thrombocytopenia (LI-TP)\n2. Developing and validating a logistics regression model to predict LI-TP in Vietnamese patients\n\n## Data cleaning\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nsource(\"notebooks/initialize-data-analysis.r\")\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n-- Attaching core tidyverse packages ------------------------ tidyverse 2.0.0 --\nv dplyr     1.1.4     v readr     2.1.4\nv forcats   1.0.0     v stringr   1.5.1\nv ggplot2   3.4.4     v tibble    3.2.1\nv lubridate 1.9.3     v tidyr     1.3.0\nv purrr     1.0.2     \n-- Conflicts ------------------------------------------ tidyverse_conflicts() --\nx dplyr::filter() masks stats::filter()\nx dplyr::lag()    masks stats::lag()\ni Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\nRows: 5669 Columns: 113\n-- Column specification --------------------------------------------------------\nDelimiter: \",\"\nchr   (4): patient_ID, site, dept, LZD_route\ndbl  (20): patient_age, patient_weight, charlson, baseline_CLCR, baseline_WB...\nlgl  (85): patient_sex, dept_ICU, dept_ER, dept_other, invasive_ETI, invasiv...\ndate  (4): baseline_date, LZD_start, LZD_end, test_date\n\ni Use `spec()` to retrieve the full column specification for this data.\ni Specify the column types or set `show_col_types = FALSE` to quiet this message.\nRows: 780 Columns: 105\n-- Column specification --------------------------------------------------------\nDelimiter: \",\"\nchr   (4): patient_ID, site, dept, LZD_route\ndbl  (13): patient_age, patient_weight, charlson, baseline_CLCR, baseline_WB...\nlgl  (85): patient_sex, dept_ICU, dept_ER, dept_other, invasive_ETI, invasiv...\ndate  (3): baseline_date, LZD_start, LZD_end\n\ni Use `spec()` to retrieve the full column specification for this data.\ni Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n:::\n\n\n\n\n\n:::{.scrolling}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\ndata_patient_complete |> select(all_of(predictor_list), flag_ADR_TP_ID, site) |> glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 780\nColumns: 58\n$ patient_age          <dbl> 90, 80, 79, 71, 72, 61, 60, 64, 92, 75, 86, 93, 6~\n$ patient_sex          <lgl> TRUE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, TRU~\n$ LZD_dose_per_weight  <dbl> 25.00000, 30.00000, 30.00000, 13.33333, 17.14286,~\n$ baseline_CLCR        <dbl> 27.22860, 63.15805, 29.93031, 50.89929, 10.87932,~\n$ dept_ER              <lgl> TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, T~\n$ dept_ICU             <lgl> FALSE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, FALSE,~\n$ baseline_HGB         <dbl> 96, 101, 86, 94, 86, 99, 98, 119, 60, 118, 99, 10~\n$ baseline_WBC         <dbl> 6.75, 11.91, 14.05, 14.61, 7.92, 21.79, 13.27, 6.~\n$ baseline_PLT         <dbl> 244, 180, 259, 179, 236, 113, 196, 154, 147, 101,~\n$ LZD_duration         <dbl> 6, 8, 15, 3, 7, 8, 22, 4, 3, 16, 14, 7, 13, 20, 6~\n$ invasive_ETI         <lgl> FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, TRUE, FAL~\n$ invasive_CVC         <lgl> FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, TRUE, FAL~\n$ invasive_IHD         <lgl> FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, F~\n$ invasive_CRRT        <lgl> FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, F~\n$ comorb_HTN           <lgl> TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, FALSE, TRUE,~\n$ comorb_DM            <lgl> TRUE, FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, FAL~\n$ comorb_HF            <lgl> FALSE, TRUE, TRUE, TRUE, TRUE, FALSE, FALSE, TRUE~\n$ comorb_angina        <lgl> FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FA~\n$ comorb_cirr          <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, F~\n$ comorb_COPD          <lgl> FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, F~\n$ comorb_CVA           <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ comorb_MI            <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ comorb_K             <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, F~\n$ comorb_hematological <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ comorb_hema          <lgl> FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, F~\n$ infect_sepsis        <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TR~\n$ infect_CAP           <lgl> FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, F~\n$ infect_HAP           <lgl> TRUE, FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, TRU~\n$ infect_SSTI          <lgl> FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, T~\n$ infect_CNS           <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, F~\n$ infect_IAI           <lgl> FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, TRUE, FAL~\n$ infect_UTI           <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ infect_BJI           <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ infect_septicemia    <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ comed_aspirin        <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ comed_diclofenac     <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ comed_ibuprofen      <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ comed_paracetamol    <lgl> TRUE, TRUE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE,~\n$ comed_penicillin     <lgl> FALSE, TRUE, TRUE, TRUE, TRUE, FALSE, TRUE, FALSE~\n$ comed_cepha          <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, F~\n$ comed_carbapenem     <lgl> TRUE, TRUE, TRUE, FALSE, TRUE, TRUE, TRUE, TRUE, ~\n$ comed_cotrimoxazol   <lgl> FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, F~\n$ comed_vancomycin     <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ comed_levofloxacin   <lgl> FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, F~\n$ comed_teicoplanin    <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ comed_ethambutol     <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ comed_pyrazinamid    <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ comed_rifampin       <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ comed_heparin        <lgl> FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, FA~\n$ comed_clopidogrel    <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ comed_enoxaparin     <lgl> FALSE, FALSE, TRUE, TRUE, FALSE, TRUE, TRUE, FALS~\n$ comed_dexamethason   <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, F~\n$ comed_amiodaron      <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ comed_furosemid      <lgl> FALSE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, FALSE,~\n$ comed_haloperidol    <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ comed_valproic       <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, ~\n$ flag_ADR_TP_ID       <lgl> FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, FAL~\n$ site                 <chr> \"TN1\", \"TN1\", \"TN1\", \"TN1\", \"TN1\", \"TN1\", \"TN1\", ~\n```\n\n\n:::\n:::\n\n\n\n\n\n:::\n\n## Descriptive statistics\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nload(\"data/results/table-descriptive.rda\")\n```\n:::\n\n\n\n\n\n:::{.scrolling}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\ntable_descriptive\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nTable printed with `knitr::kable()`, not {gt}. Learn why at\nhttps://www.danieldsjoberg.com/gtsummary/articles/rmarkdown.html\nTo suppress this message, include `message = FALSE` in code chunk header.\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|**Characteristic**       | **Overall**, N = 780 | **FALSE**, N = 520 | **TRUE**, N = 260  | **OR** | **95% CI** | **p-value** |\n|:------------------------|:--------------------:|:------------------:|:------------------:|:------:|:----------:|:-----------:|\n|__patient_age__          |     62 (50 - 73)     |    61 (48 - 72)    |    64 (53 - 74)    |  1.02  | 1.01, 1.02 | __<0.001__  |\n|__patient_sex__          |      292 (37%)       |     194 (37%)      |      98 (38%)      |  1.02  | 0.75, 1.38 |    >0.9     |\n|__LZD_dose_per_weight__  |  21.8 (20.0 - 24.0)  | 21.8 (20.0 - 24.0) | 21.8 (19.4 - 24.5) |  0.99  | 0.95, 1.03 |     0.5     |\n|__baseline_CLCR__        |     46 (21 - 83)     |    55 (26 - 88)    |    32 (15 - 64)    |  0.99  | 0.99, 0.99 | __<0.001__  |\n|__dept_ER__              |      133 (17%)       |      89 (17%)      |      44 (17%)      |  0.99  | 0.66, 1.46 |    >0.9     |\n|__dept_ICU__             |      368 (47%)       |     221 (43%)      |     147 (57%)      |  1.76  | 1.30, 2.38 | __<0.001__  |\n|__baseline_HGB__         |    102 (89 - 119)    |   105 (91 - 121)   |   97 (85 - 117)    |  0.99  | 0.98, 1.0  | __<0.001__  |\n|__baseline_WBC__         |     12 (8 - 17)      |    12 (8 - 17)     |    12 (8 - 18)     |  1.01  | 0.99, 1.03 |     0.3     |\n|__baseline_PLT__         |   203 (141 - 286)    |  233 (165 - 310)   |  151 (102 - 208)   |  0.99  | 0.99, 0.99 | __<0.001__  |\n|__LZD_duration__         |   9.0 (6.0 - 14.0)   |  9.0 (6.0 - 13.0)  | 10.0 (6.0 - 14.0)  |  1.03  | 1.01, 1.06 |  __0.016__  |\n|__invasive_ETI__         |      363 (47%)       |     210 (40%)      |     153 (59%)      |  2.11  | 1.56, 2.86 | __<0.001__  |\n|__invasive_CVC__         |      399 (51%)       |     226 (43%)      |     173 (67%)      |  2.59  | 1.90, 3.54 | __<0.001__  |\n|__invasive_IHD__         |      105 (13%)       |      60 (12%)      |      45 (17%)      |  1.60  | 1.05, 2.44 |  __0.027__  |\n|__invasive_CRRT__        |      133 (17%)       |      53 (10%)      |      80 (31%)      |  3.92  | 2.67, 5.79 | __<0.001__  |\n|__comorb_HTN__           |      321 (41%)       |     208 (40%)      |     113 (43%)      |  1.15  | 0.85, 1.56 |     0.4     |\n|__comorb_DM__            |      214 (27%)       |     142 (27%)      |      72 (28%)      |  1.02  | 0.73, 1.42 |    >0.9     |\n|__comorb_HF__            |      218 (28%)       |     126 (24%)      |      92 (35%)      |  1.71  | 1.24, 2.37 |  __0.001__  |\n|__comorb_angina__        |      31 (4.0%)       |     19 (3.7%)      |     12 (4.6%)      |  1.28  | 0.59, 2.64 |     0.5     |\n|__comorb_cirr__          |      48 (6.2%)       |     20 (3.8%)      |      28 (11%)      |  3.02  | 1.67, 5.54 | __<0.001__  |\n|__comorb_COPD__          |      38 (4.9%)       |     24 (4.6%)      |     14 (5.4%)      |  1.18  | 0.58, 2.28 |     0.6     |\n|__comorb_CVA__           |       90 (12%)       |      64 (12%)      |      26 (10%)      |  0.79  | 0.48, 1.27 |     0.3     |\n|__comorb_MI__            |      20 (2.6%)       |     15 (2.9%)      |      5 (1.9%)      |  0.66  | 0.21, 1.73 |     0.4     |\n|__comorb_K__             |      64 (8.2%)       |     41 (7.9%)      |     23 (8.8%)      |  1.13  | 0.66, 1.92 |     0.6     |\n|__comorb_hematological__ |      46 (5.9%)       |     27 (5.2%)      |     19 (7.3%)      |  1.44  | 0.77, 2.63 |     0.2     |\n|__comorb_hema__          |      60 (7.7%)       |     36 (6.9%)      |     24 (9.2%)      |  1.37  | 0.79, 2.33 |     0.3     |\n|__infect_sepsis__        |      130 (17%)       |      62 (12%)      |      68 (26%)      |  2.62  | 1.78, 3.84 | __<0.001__  |\n|__infect_CAP__           |      112 (14%)       |      66 (13%)      |      46 (18%)      |  1.48  | 0.98, 2.22 |    0.062    |\n|__infect_HAP__           |      352 (45%)       |     236 (45%)      |     116 (45%)      |  0.97  | 0.72, 1.31 |     0.8     |\n|__infect_SSTI__          |      128 (16%)       |      95 (18%)      |      33 (13%)      |  0.65  | 0.42, 0.99 |  __0.049__  |\n|__infect_CNS__           |      68 (8.7%)       |     45 (8.7%)      |     23 (8.8%)      |  1.02  | 0.60, 1.72 |    >0.9     |\n|__infect_IAI__           |      49 (6.3%)       |     33 (6.3%)      |     16 (6.2%)      |  0.97  | 0.51, 1.77 |    >0.9     |\n|__infect_UTI__           |      53 (6.8%)       |     37 (7.1%)      |     16 (6.2%)      |  0.86  | 0.46, 1.54 |     0.6     |\n|__infect_BJI__           |      10 (1.3%)       |      9 (1.7%)      |      1 (0.4%)      |  0.22  | 0.01, 1.18 |     0.2     |\n|__infect_septicemia__    |      231 (30%)       |     143 (28%)      |      88 (34%)      |  1.35  | 0.98, 1.86 |    0.068    |\n|__comed_aspirin__        |      46 (5.9%)       |     29 (5.6%)      |     17 (6.5%)      |  1.18  | 0.63, 2.17 |     0.6     |\n|__comed_diclofenac__     |      27 (3.5%)       |     20 (3.8%)      |      7 (2.7%)      |  0.69  | 0.27, 1.58 |     0.4     |\n|__comed_ibuprofen__      |      25 (3.2%)       |     14 (2.7%)      |     11 (4.2%)      |  1.60  | 0.70, 3.56 |     0.3     |\n|__comed_paracetamol__    |      338 (43%)       |     230 (44%)      |     108 (42%)      |  0.90  | 0.66, 1.21 |     0.5     |\n|__comed_penicillin__     |      114 (15%)       |      71 (14%)      |      43 (17%)      |  1.25  | 0.83, 1.88 |     0.3     |\n|__comed_cepha__          |      197 (25%)       |     141 (27%)      |      56 (22%)      |  0.74  | 0.52, 1.05 |    0.092    |\n|__comed_carbapenem__     |      554 (71%)       |     355 (68%)      |     199 (77%)      |  1.52  | 1.08, 2.14 |  __0.017__  |\n|__comed_cotrimoxazol__   |      63 (8.1%)       |     36 (6.9%)      |      27 (10%)      |  1.56  | 0.92, 2.62 |    0.10     |\n|__comed_vancomycin__     |      67 (8.6%)       |     40 (7.7%)      |      27 (10%)      |  1.39  | 0.83, 2.31 |     0.2     |\n|__comed_levofloxacin__   |      230 (29%)       |     144 (28%)      |      86 (33%)      |  1.29  | 0.93, 1.78 |    0.12     |\n|__comed_teicoplanin__    |      26 (3.3%)       |     13 (2.5%)      |     13 (5.0%)      |  2.05  | 0.93, 4.54 |    0.072    |\n|__comed_ethambutol__     |       8 (1.0%)       |      5 (1.0%)      |      3 (1.2%)      |  1.20  | 0.25, 4.94 |     0.8     |\n|__comed_pyrazinamid__    |      12 (1.5%)       |      6 (1.2%)      |      6 (2.3%)      |  2.02  | 0.63, 6.53 |     0.2     |\n|__comed_rifampin__       |      17 (2.2%)       |     10 (1.9%)      |      7 (2.7%)      |  1.41  | 0.51, 3.72 |     0.5     |\n|__comed_heparin__        |      189 (24%)       |      94 (18%)      |      95 (37%)      |  2.61  | 1.86, 3.66 | __<0.001__  |\n|__comed_clopidogrel__    |      38 (4.9%)       |     28 (5.4%)      |     10 (3.8%)      |  0.70  | 0.32, 1.42 |     0.3     |\n|__comed_enoxaparin__     |      327 (42%)       |     213 (41%)      |     114 (44%)      |  1.13  | 0.83, 1.52 |     0.4     |\n|__comed_dexamethason__   |       92 (12%)       |      60 (12%)      |      32 (12%)      |  1.08  | 0.67, 1.69 |     0.8     |\n|__comed_amiodaron__      |      33 (4.2%)       |     15 (2.9%)      |     18 (6.9%)      |  2.50  | 1.24, 5.12 |  __0.010__  |\n|__comed_furosemid__      |      417 (53%)       |     244 (47%)      |     173 (67%)      |  2.25  | 1.65, 3.08 | __<0.001__  |\n|__comed_haloperidol__    |      45 (5.8%)       |     28 (5.4%)      |     17 (6.5%)      |  1.23  | 0.65, 2.27 |     0.5     |\n|__comed_valproic__       |      29 (3.7%)       |     21 (4.0%)      |      8 (3.1%)      |  0.75  | 0.31, 1.66 |     0.5     |\n|__comed_aceclofenac__    |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_naproxen__       |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_daptomycin__     |       1 (0.1%)       |       0 (0%)       |      1 (0.4%)      |        |            |             |\n|__comed_cetirizin__      |       6 (0.8%)       |      5 (1.0%)      |      1 (0.4%)      |        |            |             |\n|__comed_simvas__         |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_bisoprolol__     |       6 (0.8%)       |      4 (0.8%)      |      2 (0.8%)      |        |            |             |\n|__comed_diltiazem__      |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_eptifibatid__    |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_quinidin__       |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_carbamazepin__   |       7 (0.9%)       |      7 (1.3%)      |       0 (0%)       |        |            |             |\n|__comed_phenytoin__      |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_mirtazapin__     |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_quetiapin__      |       3 (0.4%)       |      3 (0.6%)      |       0 (0%)       |        |            |             |\n|__comed_ondansetron__    |       6 (0.8%)       |      4 (0.8%)      |      2 (0.8%)      |        |            |             |\n|__comed_palonosetron__   |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_oseltamivir__    |       3 (0.4%)       |      1 (0.2%)      |      2 (0.8%)      |        |            |             |\n|__comed_quinin__         |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_pembrolizumab__  |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_trastuzumab__    |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_atezolizumab__   |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_durvalumab__     |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_IVIG__           |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_tacrolimus__     |       1 (0.1%)       |       0 (0%)       |      1 (0.4%)      |        |            |             |\n|__comed_fluorouracil__   |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_irinotecan__     |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_leucovorin__     |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n|__comed_oxaliplatin__    |        0 (0%)        |       0 (0%)       |       0 (0%)       |        |            |             |\n\n\n:::\n:::\n\n\n\n\n\n:::\n\n## Model Performance\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nload(\"data/model-performance/apparent-performance-metrics.rda\")\nload(\"data/model-performance/corrected-performance-metrics.rda\")\nload(\"data/model-performance/fold-performance-metrics.rda\")\nload(\"data/model-performance/cross-performance-metrics.rda\")\n\ndata_list <- list(\n  apparent_performance_metrics,\n  corrected_performance_metrics,\n  fold_performance_metrics\n)\nperformance_type_list <- c(\"Apparent\", \"Bootstrap\", \"Fold\")\ninitial_string_list <- c(\"apparent_\", \"corrected_\", \"mean_fold_\")\n\nreformat_performance_metrics <- function(data, type, string) {\n  data |> \n    mutate(\n    performance_type = type\n  ) |>\n  rename_with(~ str_replace(., string, \"\")) |>\n  select(performance_type, everything())\n}\n\nperformance_metrics <- pmap(\n  list(data_list, performance_type_list, initial_string_list), \n  reformat_performance_metrics\n) |> bind_rows()\n\nperformance_metrics |> knitr::kable()\n```\n\n::: {.cell-output-display}\n\n\n|performance_type |   C_index| calibration_intercept| calibration_slope|\n|:----------------|---------:|---------------------:|-----------------:|\n|Apparent         | 0.7779549|             0.0000000|         1.0000000|\n|Bootstrap        | 0.7456938|            -0.0001972|         0.8176676|\n|Fold             | 0.7641578|            -0.0084625|         0.9584548|\n\n\n:::\n:::",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}